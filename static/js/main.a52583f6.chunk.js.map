{"version":3,"sources":["components/Store/initialState.js","components/Store/Context.js","libs/utils/contentful.js","components/Store/Provider.js","components/Helmet.js","components/ExternalLink.js","components/Frame.js","libs/utils/isProd.js","libs/three/Unit.js","libs/three/handlers/transitionHandler/timingFunctions.js","libs/three/Scene.js","libs/three/handlers/transitionHandler/index.js","components/ThreeScene.js","libs/three/loaders/modelLoader.js","libs/three/units/random/Lego/model.glb","libs/three/units/Model.js","libs/three/units/random/Lego/index.js","libs/three/units/Heads.js","libs/utils/isMobile.js","libs/three/units/Lights.js","libs/three/loaders/hdrLoader.js","libs/three/units/Environment/HDRI/delta_2_1k.hdr","libs/three/units/Environment/index.js","libs/utils/isTouchDevice.js","libs/three/units/Controls.js","models/fence.glb","libs/three/units/Fence.js","components/Loader.js","audio/MBMK.mp3","sections/MainScene.js","App.js","components/Header.js","sections/Heads/index.js","sections/About.js","components/Social.js","sections/Closed/index.js","serviceWorker.js","index.js"],"names":["initialState","Context","React","createContext","createContentfulClient","createClient","space","accessToken","host","getContentfulItems","client","a","itemsByType","getEntries","items","forEach","item","_item","id","sys","_","mapValues","fields","field","parseField","type","contentType","hasOwnProperty","push","nodeType","parseContentfulText","file","document","documentToReactComponents","Provider","state","cookies","Cookies","componentDidMount","loadContentful","getSpace","setState","stateAndSetters","obj","render","value","props","children","Component","Helmet","className","href","to","target","newTab","rel","Frame","logoIndex","Math","ceil","random","menuOpened","setIndex","onMouseEnter","onClick","ExternalLink","noPadding","bottom","clouds","isProd","process","Unit","init","animate","frame","dispose","this","fns","t","k","easeIn","easeOut","easeInOut","maxFrameNumber","Scene","ViewerDiv","W","clientWidth","H","clientHeight","optimise","scene","renderer","THREE","antialias","alpha","setClearColor","setSize","setPixelRatio","window","devicePixelRatio","shadowMap","enabled","appendChild","domElement","camera","controls","OrbitControls","position","z","update","initUnits","frameId","requestAnimationFrame","disposeUnits","cancelAnimationFrame","resize","aspect","updateProjectionMatrix","frameNumber","getBoundingClientRect","left","right","top","composer","units","clock","y","scroll","alphaY","Object","keys","unitName","input","Controls","react","unit","disabled","unitsToggled","args","unitLoaded","name","numberOfLoadedUnits","console","log","length","setLoaded","startUnits","start","remove","toggleUnits","undefined","animateTransitions","unregisteredTransitions","transitions","transition","currentFrame","numberOfFrames","timingFuntion","timingFuntions","variable","copy","initialValue","clone","lerp","transitionToUnregister","onComplete","unregisterTransition","registerTransition","currentId","Number","MAX_SAFE_INTEGER","transitionId","transitionIndex","map","indexOf","splice","unregisterAllTransitions","noActiveTransitions","ThreeScene","componentWillUnmount","ref","viewerRef","createRef","resizeObs","ResizeObserver","bind","observe","current","model","debug","Promise","res","rej","GLTFLoader","load","gltf","progress","url","srcElement","responseURL","split","floor","loaded","error","Model","loadModel","modelLoader","gtlf","mixer","actions","animations","animation","index","clipAction","play","add","rotation","PI","getDelta","Lego","scale","set","x","sin","cos","Heads","navigator","userAgent","match","_index","heads","toggleHeads","openedHeads","Lowpoly","light2","AmbientLight","light0","HemisphereLight","light1","hdrLoader","RGBELoader","texture","mapping","total","Fence","loadTexture","HDRMap","environment","createEvent","e","initialThis","mouse","alphaX","handleScroll","handleMouseMove","clientX","clientY","innerWidth","innerHeight","h","documentElement","b","body","st","sh","handleMouseMoveDebounced","debounce","handleScrollDebounced","isTouchDevice","removeEventListener","key","addEventListener","Loader","App","started","sceneRef","Boolean","location","hostname","ReactDOM","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.a52583f6.chunk.js","sourcesContent":["const initialState = {}\n\n\nexport default initialState","import React from 'react'\n\nimport initialState from './initialState'\n\n\nconst Context = React.createContext(initialState)\n\n\nexport default Context","import { createClient } from 'contentful'\nimport _ from 'lodash'\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer'\n\nconst createContentfulClient = () =>\n  createClient({\n    space: 'r1hg9m75veq3',\n    accessToken: 'cUHQvlK_jsdMBLoK3rHSllIOH7pDim4Mac-FU7wkkLg',\n    host: 'cdn.contentful.com'\n  })\n\nconst getContentfulItems = async client => {\n  let itemsByType = {};\n\n  (await client.getEntries())\n  .items.forEach(item => {\n    const _item = {\n      id: item.sys.id,\n      ..._.mapValues(\n        item.fields,\n        field => parseField(field)\n      )\n    }\n    const type = item.sys.contentType.sys.id + 's'\n  \n    itemsByType.hasOwnProperty(type) ?\n      itemsByType[type].push(_item)\n      :\n      itemsByType[type] = [_item]\n  })\n\n  return itemsByType\n}\n\nconst parseField = field => {\n  switch(field?.nodeType || field?.sys?.type) {\n    case 'document':\n      return parseContentfulText(field)\n    case 'Asset':\n      return field?.fields?.file\n    default:\n      return field\n  }\n}\n\nconst parseContentfulText = document =>\n  documentToReactComponents(document)\n\nexport {\n  createContentfulClient,\n  getContentfulItems\n}","import React from 'react'\n\nimport Cookies from 'universal-cookie'\n\nimport initialState from './initialState'\nimport Context from './Context'\nimport {\n  createContentfulClient,\n  getContentfulItems\n} from 'libs/utils/contentful'\n\n\nclass Provider extends React.Component {\n\n  state = initialState\n\n  cookies = new Cookies()\n\n  componentDidMount = () => {\n    this.loadContentful()\n  }\n\n  loadContentful = async () => {\n    this.client = createContentfulClient()\n\n    this.setState({\n      space: await this.client.getSpace(),\n      ...(await getContentfulItems(this.client))\n    })\n  }\n\n\n  stateAndSetters = () => ({\n    ...this.state,\n    cookies: this.cookies,\n    setState: obj => this.setState(obj),\n  })\n\n  render = () =>\n    <Context.Provider value={this.stateAndSetters()}>\n      {this.props.children}\n    </Context.Provider>\n}\n\n\nexport default Provider","import React from 'react'\nimport { Helmet } from 'react-helmet'\n\n\nexport default props =>\n  <Helmet>\n    <title>Перфобуфет</title>\n  </Helmet>","import React from 'react'\n\nexport default (props) => (\n  <a\n    className={props.className}\n    href={props.to}\n    target={props.newTab ? \"_blank\" : \"\"}\n    rel=\"noopener noreferrer\"\n  >\n    {props.children}\n  </a>\n)","import React from 'react'\n\nimport ExternalLink from 'components/ExternalLink'\n\n\nclass Frame extends React.Component {\n  state = {\n    logoIndex: Math.ceil(1 + Math.random() * 9),\n\n    menuOpened: false,\n  }\n\n  setIndex = () =>\n    {}\n    // this.setState({\n    //   logoIndex: Math.ceil(1 + Math.random() * 9)\n    // })\n\n  render = () =>\n    <div className={\"frame \" + this.props.className}>\n\n      <div\n        className={`frame__logo frame__logo--${this.state.logoIndex}`}\n        onMouseEnter={() => this.setIndex()}\n      />\n\n      <div className={`frame__menu ${this.state.menuOpened && \"frame__menu--opened\"}`}>\n        <div\n          className=\"frame__menu__burger\"\n          onClick={() => this.setState({ menuOpened: !this.state.menuOpened })}\n        />\n        <ExternalLink\n          className=\"frame__menu__item frame__menu__item--vk\"\n          newTab\n          to=\"https://vk.com/perfobufet\"\n        />\n        <ExternalLink\n          className=\"frame__menu__item frame__menu__item--inst\"\n          newTab\n          to=\"https://instagram.com/perfobufet\"\n        />\n      </div>\n\n      <div className={`frame__container ${this.props.noPadding && \"frame__container--no-padding\"}`}>\n        {this.props.children}\n      </div>\n\n      {this.props.bottom ?\n        <div className=\"frame__bottom-content\">\n          {this.props.bottom}\n        </div>\n        :\n        <div className=\"frame__bottom-line\" />\n      }\n\n      {this.props.clouds && <div className=\"frame--clouds\" />}\n    </div>\n}\n\n\nexport default Frame\n","const isProd = () =>\n  process.env.NODE_ENV === 'production'\n\n\nexport default isProd","export default class Unit {\n  constructor(props) { this.props = props }\n  init = () => {}\n  // loaded = () => {}\n  animate = frame => {}\n  dispose = () => {}\n}","let fns = {}\n\nfns.linear = t => t\nfns.easeInQuad = t => t * t\nfns.easeOutQuad = t => t * (2 - t)\nfns.easeInOutQuad = t => t < .5 ? 2 * (t ** 2) : -1 + (4 - 2 * t) * t\nfns.easeInCubic = t => t * t * t\nfns.easeOutCubic = t => (--t) * t * t + 1\nfns.easeInOutCubic = t => t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\nfns.easeInQuart = t => t * t * t * t\nfns.easeOutQuart = t => 1-(--t) * t * t * t\nfns.easeInOutQuart = t => t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\nfns.easeInQuint = t => t * t * t * t * t\nfns.easeOutQuint = t => 1 + (--t) * t * t * t * t\nfns.easeInOutQuint = t => t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n\nfns.easeIn = (t, k) => (t ** k)\nfns.easeOut = (t, k) => 1 - fns.easeIn(1 - t, k)\nfns.easeInOut = (t, k) => t < .5 ?\n  fns.easeIn(t * 2, k) / 2\n  :\n  1 - fns.easeIn((1 - t) * 2, k) / 2\n\nfns.easeIn2 = t => fns.easeIn(t, 1.5)\nfns.easeOut2 = t => fns.easeOut(t, 1.5)\nfns.easeInOut2 = t => fns.easeInOut(t, 1.5)\n\n\nexport default fns","import * as THREE from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js'\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js'\n// import { Interaction } from 'three.interaction'\n// import { EffectComposer, RenderPass } from 'postprocessing'\n\nimport isProd from 'libs/utils/isProd'\nimport transitionHandler from './handlers/transitionHandler'\n\n\nconst targetToCamera = -35\nconst maxFrameNumber = 25000\nconst scaleFactor = 150\n\n\nexport default class Scene extends transitionHandler {\n\n  constructor(props) {\n    super(props)\n    this.scene = {\n      renderer: undefined,\n      camera: undefined,\n      scene: new THREE.Scene(),\n      composer: undefined,\n      controls: undefined,\n    \n      clock: new THREE.Clock(),\n      frameNumber: 0,\n    \n      units: {},\n      unitsToggled: false,\n    }\n\n    this.numberOfLoadedUnits = 0\n  }\n\n  init = ViewerDiv => {\n    const W = ViewerDiv.clientWidth\n    const H = ViewerDiv.clientHeight\n\n    //ADD RENDERER\n    const optimise = W > 1200\n    this.scene.renderer = new THREE.WebGLRenderer({ antialias: !optimise, alpha: true })\n    this.scene.renderer.setClearColor(0x000000, 0)\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n    this.scene.renderer.shadowMap.enabled = true\n\n    ViewerDiv.appendChild(this.scene.renderer.domElement)\n\n    //ADD CAMERA\n    this.scene.camera = new THREE.PerspectiveCamera(\n      75,\n      W / H,\n      0.1,\n      1000\n    )\n    this.scene.controls = new OrbitControls(this.scene.camera, this.scene.renderer.domElement)\n    this.scene.controls.enabled = false\n    this.scene.camera.position.z = targetToCamera\n    this.scene.controls.update()\n\n    // this.scene.composer = new EffectComposer(this.scene.renderer)\n    // this.scene.composer.addPass(new RenderPass(this.scene.scene, this.scene.camera))\n\n    // this.interaction = new Interaction(this.scene.renderer, this.scene.scene, this.scene.camera)\n\n    this.initUnits()\n\n    if (!this.frameId)\n      this.frameId = requestAnimationFrame(this.animate)\n  }\n\n  dispose = () => {\n    this.disposeUnits()\n    cancelAnimationFrame(this.frameId)\n  }\n\n  resize = (W, H) => {\n    if (!this.scene.renderer || !this.scene.camera)\n      return\n\n    // const optimise = W > 1200\n\n    this.scene.camera.aspect = W / H\n    this.scene.camera.updateProjectionMatrix()\n\n    this.scene.renderer.setSize(W, H)\n    // this.scene.renderer.setPixelRatio(!optimise ? window.devicePixelRatio : 1)\n    this.scene.renderer.setPixelRatio(window.devicePixelRatio)\n  }\n\n  animate = () => {\n    this.scene.frameNumber = (this.scene.frameNumber + 1) % maxFrameNumber\n\n    const { left, right, top, bottom } = this.scene.renderer.domElement.getBoundingClientRect()\n \n    const isOffscreen =\n      bottom < 0 ||\n      top > this.scene.renderer.domElement.clientHeight ||\n      right < 0 ||\n      left > this.scene.renderer.domElement.clientWidth;\n  \n    if (!isOffscreen || true) {\n      const {\n        composer,\n        controls,\n        units,\n        clock,\n        renderer,\n        camera,\n      } = this.scene\n  \n      camera.position.y = -scaleFactor * units.controls.scroll.alphaY\n      controls.target.y = -scaleFactor * units.controls.scroll.alphaY\n\n      Object.keys(units)\n        .forEach(unitName =>\n          units[unitName].animate({\n            THREE: THREE,\n            ...this.scene,\n            input: this.scene.units.Controls,\n            maxFrameNumber: maxFrameNumber,\n            react: this.props.react,\n          }))\n  \n      controls.update()\n      // composer.render()\n      // composer.render(clock.getDelta())\n      renderer.render(this.scene.scene, this.scene.camera)\n    }\n\n    this.frameId = window.requestAnimationFrame(this.animate)\n  }\n\n\n  initUnits = () => {\n    const props = {\n      THREE: THREE,\n      ...this.scene,\n      input: this.scene.units.Controls,\n      maxFrameNumber: maxFrameNumber,\n      react: this.props.react,\n    }\n\n    Object.keys(this.props.units)\n      .forEach(unitName => {\n        const unit = this.props.units[unitName]\n\n        if (!unit.disabled ^ this.scene.unitsToggled) {\n          this.scene.units[unitName] = new unit.unit({\n            ...props,\n            ...unit.args,\n            unitLoaded: () => this.unitLoaded(unitName),\n          })\n          this.scene.units[unitName].init &&\n            this.scene.units[unitName].init()\n        }\n      })\n  }\n\n  unitLoaded = name => {\n    this.numberOfLoadedUnits++\n    !isProd() && console.log(`${name} loaded`)\n\n    if (this.numberOfLoadedUnits >= Object.keys(this.scene.units).length)\n      this.props?.setLoaded?.()\n  }\n\n  startUnits = () =>\n    Object.keys(this.scene.units)\n      .forEach(unitName => {\n        const unit = this.scene.units[unitName]\n\n        if (!unit.disabled ^ this.scene.unitsToggled)\n          unit?.start?.()\n      })\n\n  start = () =>\n    this.startUnits()\n\n  disposeUnits = () => {\n    const {\n      scene,\n      units,\n    } = this.scene\n\n    Object.keys(units)\n      .forEach(unitName => units[unitName].dispose())\n\n    //REDO THIS SHIT: units should unregister themselves\n    while(scene.children.length > 0)\n      scene.remove(scene.children[0])\n  }\n\n  toggleUnits = () => {\n    this.disposeUnits()\n    this.scene.unitsToggled = !this.scene.unitsToggled\n    this.initUnits()\n  }\n\n  // toggleUnit = unitName => {\n  //   // if (this.scene[unitName].enabled)\n  //   console.log(this.scene.scene.children)\n  // }\n}\n","import Unit from 'libs/three/Unit'\n\nimport timingFuntions from './timingFunctions'\n\nexport default class TransitionsHandler extends Unit {\n  constructor(props) {\n    super(props)\n    this.transitions = []\n    this.currentId = 0\n  }\n\n  animateTransitions = () => {\n    let unregisteredTransitions = []\n\n    this.transitions.forEach(transition => {\n      if (transition.currentFrame >= transition.numberOfFrames)\n        unregisteredTransitions.push(transition)\n      else {\n        // const alpha = 1 / (transition.numberOfFrames - transition.currentFrame)\n        const alpha = transition.currentFrame / transition.numberOfFrames\n        const timingFuntion = timingFuntions[transition.timingFuntion] || (t => t)\n\n        transition.variable.copy(transition.initialValue\n          .clone()\n          .lerp(transition.value, timingFuntion(alpha)))\n\n        transition.currentFrame++\n      }\n    })\n\n    unregisteredTransitions.forEach(transitionToUnregister => {\n      transitionToUnregister.onComplete && transitionToUnregister.onComplete()\n      this.unregisterTransition(transitionToUnregister.id)\n    })\n  }\n\n  registerTransition = props => {\n    this.transitions.push({\n      id: this.currentId = (this.currentId + 1) % Number.MAX_SAFE_INTEGER,\n      variable: props.variable,\n      value: props.value.clone(),\n      initialValue: props.variable.clone(),\n      numberOfFrames: props.numberOfFrames || 10,\n      currentFrame: 0,\n      timingFuntion: props.timingFuntion || \"none\",\n      onComplete: props.onComplete || (() => {}),\n    })\n\n    return this.currentId\n  }\n\n  unregisterTransition = transitionId => {\n    const transitionIndex = this.transitions\n      .map(transition => transition.id)\n      .indexOf(transitionId)\n\n    if (transitionIndex !== -1)\n      this.transitions.splice(transitionIndex, 1)\n  }\n\n  unregisterAllTransitions = () => this.transitions.length = 0\n\n  noActiveTransitions = () => this.transitions.length === 0\n\n}","import React, { useRef } from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport Scene from '../libs/three/Scene'\n// import Character from 'libs/3d/units/Character'\n// import Landscape from 'libs/3d/units/Landscape'\n// import Coins from 'libs/3d/units/Coins'\n// import Lights from 'libs/3d/units/Lights'\n// import Fog from 'libs/3d/units/Fog'\n// import Controls from 'libs/3d/units/Controls'\n\n// import EasterEgg from 'libs/3d/units/EasterEgg'\n\n\nexport default class ThreeScene extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    this.viewerRef = new React.createRef()\n\n    this.scene = new Scene(props)\n  }\n\n  componentDidMount() {\n    this.resizeObs = new ResizeObserver(this.resize.bind(this))\n      .observe(this.viewerRef.current)\n\n    this.scene.init(this.viewerRef.current)\n  }\n\n  componentWillUnmount = () => {\n    this.scene.dispose()\n    // this.viewerRef.removeChild(this.renderer.domElement)\n  }\n\n  resize() {\n    const ViewerDiv = this.viewerRef.current\n    \n    if (!ViewerDiv)\n      return\n\n    this.scene.resize(ViewerDiv.clientWidth, ViewerDiv.clientHeight)\n  }\n\n  render = () =>\n    <div\n      className=\"Viewer\"\n      ref={this.viewerRef}\n    >\n    </div>\n}\n","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\nimport isProd from 'libs/utils/isProd'\n\n\nexport default async (model, debug) =>\n  new Promise((res, rej) =>\n    new GLTFLoader()\n      .load(\n        model,\n        gltf =>\n          res(gltf),\n          progress => {\n            const url = progress.srcElement.responseURL.split('/')\n            const name = url[url.length - 1].split('.')\n  \n            !isProd() && debug &&\n              console.log(`loading ${name[0]}.${name[2]} ${Math.floor(progress.loaded / 1024 / 10.24) / 100}mb`)\n          },\n        error =>\n          rej(error),\n      )\n  )\n","export default __webpack_public_path__ + \"static/media/model.2917bf81.glb\";","import * as THREE from 'three'\nimport Unit from 'libs/three/Unit'\n\nimport modelLoader from 'libs/three/loaders/modelLoader'\n\nimport file from 'libs/three/units/random/Lego/model.glb'\n\n\nexport default class Model extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.loadModel()\n  }\n\n  loadModel = async () => {\n    this.gtlf = await modelLoader(file)\n    this.model = this.gtlf.scene\n\n    // console.log(this.props.scene.environment)\n    // setTimeout(() => {\n    //   this.model.children.forEach(mesh => {\n    //     mesh.material.envMap = this.props.scene.environment\n    //     mesh.material.envMapIntensity = 5\n    //     mesh.material.combine = THREE.MixOperation\n    //     mesh.material.reflectivity = .5\n    //     mesh.material.needsUpdate = true\n    //   })\n    //   // this.model.children.forEach(mesh =>\n    //   //   console.log(mesh.material))\n    // }, 1000)\n\n    // this.model.castShadow = true\n    // this.model.receiveShadow = true\n\n    //ANIMATION\n    this.mixer = new THREE.AnimationMixer( this.gtlf.scene )\n    this.actions = []\n    this.gtlf.animations.forEach((animation, index) => {\n      this.actions.push( this.mixer.clipAction( animation ) )\n      this.actions[index].play()\n    })\n\n    this.props.scene.add(this.model)\n    this.props.unitLoaded()\n  }\n\n  animate = props => {\n    let alpha = props.frameNumber / props.maxFrameNumber * 7\n\n    this.model && (this.model.rotation.y = alpha * 2 * Math.PI)\n\n    //ANIMATION\n    this.mixer && this.mixer.update(props.clock.getDelta())\n  }\n  dispose = props => {}\n}","import * as THREE from 'three'\nimport Model from 'libs/three/units/Model'\n\n\nexport default class Lego extends Model {\n  constructor(props) {\n    super(props)\n  }\n\n  animate = props => {\n    if (this.model) {\n      if (!this.loaded) {\n        this.loaded = true\n        this.model.scale.set(.5, .5, .5)\n        this.model.rotation.y = Math.PI\n        this.model.position.set(0, 0, 0)\n      }\n\n      let alpha = props.frameNumber / props.maxFrameNumber\n\n      this.model.rotation.x = Math.PI + Math.sin(alpha * 15 * Math.PI)\n      this.model.rotation.y = Math.cos(alpha * 15 * Math.PI)\n      this.model.rotation.z = alpha * 15 * Math.PI\n\n      this.mixer && this.mixer.update(props.clock.getDelta())\n    }\n\n  }\n  dispose = props => {}\n}","import * as THREE from 'three'\nimport Unit from 'libs/three/Unit'\nimport isMobile from 'libs/utils/isMobile'\nimport pcdLoader from 'libs/three/loaders/pcdLoader'\nimport tapEvent from 'libs/utils/tapEvent'\nimport timingFunctions from 'libs/three/handlers/transitionHandler/timingFunctions'\n\n// import Demidkin from 'models/heads/Demidkin.pcd'\n// import Naumov from 'models/heads/Naumov.pcd'\n// import Tomilov from 'models/heads/Tomilov.pcd'\n// import Belysh from 'models/heads/Belysh.pcd'\n// import Khuzin from 'models/heads/Khuzin.pcd'\n\n\n// const array = [\n//   Demidkin,\n//   Naumov,\n//   Tomilov,\n//   Belysh,\n//   Khuzin,\n// ]\nconst R = isMobile() ? 37 : 55\nconst headsLength = 5\n\nconst frusVec = new THREE.Vector3()\nconst rotationVec = new THREE.Vector3()\nconst forward = new THREE.Vector3(0, 1, 0)\nconst quaternion = new THREE.Quaternion()\n\n\nexport default class Heads extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.index = this.props.react.index\n    this.openedHeads = false\n\n    this.loadModel()\n  }\n\n  setIndex = _index =>\n    this.index = _index\n\n  loadModel = async () => {\n    this.heads = [headsLength]\n    // this.heads[0] = await pcdLoader(Demidkin)\n    // this.heads[1] = await pcdLoader(Naumov)\n    // this.heads[2] = await pcdLoader(Tomilov)\n    // this.heads[3] = await pcdLoader(Belysh)\n    // this.heads[4] = await pcdLoader(Khuzin)\n\n    // this.heads.forEach((head, index) => {\n    //   this.props.scene.add(head)\n\n    //   head.scale.multiplyScalar(R)\n    //   head.rotation.x -= Math.PI / 2\n    //   const alpha = ((headsLength + index - this.index) % headsLength) / headsLength * Math.PI * 2\n    //   head.position.set(\n    //     Math.sin(alpha) * R * 1.5 + (isMobile() ? 0 : R / 3),\n    //     -R * .75,\n    //     -Math.cos(alpha) * R / 2 + R / 2\n    //   )\n    //   head.material.size *= 35\n  \n    //   // console.log(this.props)\n    //   // head.cursor = 'pointer'\n    //   // tapEvent(head, () =>\n    //   //   this.toggleHeads())\n    // })\n\n    // this.props.onComplete && this.props.onComplete()\n\n    // this.props.unitLoaded()\n  }\n\n  toggleHeads = () => {\n    // this.heads.forEach(head =>\n    //   head.scale.multiplyScalar(this.openedHeads ? 1 / 2 : 2))\n    // this.openedHeads = !this.openedHeads\n  }\n\n  animate = props => {\n    // frusVec.set(\n    //   props.camera.near * Math.tan(props.camera.fov / 2) * -props.units.controls.mouse.alphaX,\n    //   props.camera.near * Math.tan(props.camera.fov / 2) * props.units.controls.mouse.alphaY / props.camera.aspect,\n    //   props.camera.near\n    // ).add(props.camera.position)\n\n    // this.heads.forEach((head, index) => {\n    //   if (head && head.rotation) {\n    //     const alpha = (headsLength + index - this.index) / headsLength * Math.PI * 2\n    //     const radius = this.openedHeads ? (isMobile() ? R * 2.55 : 120) : R\n\n    //     head.position.set(\n    //       Math.sin(alpha) * radius * 1.5 + (isMobile() || this.openedHeads ? 0 : radius / 3),\n    //       this.openedHeads && !isMobile() ? -R * .85 : -R * .75 - R * 1.25,\n    //       -Math.cos(alpha) * radius / 2 + R / 2\n    //     )\n\n    //     // head.position.copy(frusVec)\n\n    //     const alphaTime = props.frameNumber / props.maxFrameNumber\n    //     // const alphaProgressY = timingFunctions[\"easeInOutQuad\"](Math.cos(alphaTime * 505 * Math.PI))\n    //     // const alphaProgressZ = timingFunctions[\"easeInOutQuad\"](Math.sin(alphaTime * 505 * Math.PI))\n    //     const alphaProgressY = timingFunctions[\"easeInOutQuad\"](Math.cos(12.5 * 505 * Math.PI))\n    //     const alphaProgressZ = timingFunctions[\"easeInOutQuad\"](Math.sin(12.5 * 505 * Math.PI))\n\n    //     head.rotation.x = -Math.PI / 2 - props.units.controls.mouse.alphaY\n    //     head.rotation.y = alphaProgressY * .25\n    //     head.rotation.z = alphaProgressZ * .15 + (.5 - props.units.controls.mouse.alphaX / 5) * 2 * Math.PI + (this.openedHeads ? Math.PI : 0)\n\n\n    //     // this.model.rotation.x = Math.PI + Math.sin(alpha * 15 * Math.PI)\n    //     // this.model.rotation.y = Math.cos(alpha * 15 * Math.PI)\n    //     // this.model.rotation.z = alpha * 15 * Math.PI\n  \n    //     // rotationVec\n    //     //   .copy(frusVec)\n    //     //   .sub(head.position)\n    //     //   .normalize()\n    //     // head.quaternion.setFromUnitVectors(forward, rotationVec)\n    //     // head.quaternion.copy(quaternion)\n    //   } \n    // })\n  }\n  dispose = props => {}\n}","export default () => navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)","import Unit from 'libs/three/Unit'\n\n\nexport default class Lowpoly extends Unit {\n  constructor(props) {\n    super(props)\n\n    const { scene, THREE } = props\n\n    this.light2 = new THREE.AmbientLight( 0xFFFFFF )\n    this.light0 = new THREE.HemisphereLight( 0xffffff, 0x444444, 1.15 )\n    this.light0.position.set( -7, 25, -7 )\n    this.light1 = new THREE.HemisphereLight( 0xffffff, 0x444444, 1.15 )\n    this.light1.position.set( 10, 25, 10 )\n    // this.light0.castShadow = true\n    scene.add( this.light0 )\n    scene.add( this.light1 )\n    scene.add( this.light2 )\n\n    props.unitLoaded()\n  }\n\n  animate = props => {}\n  dispose = () => {}\n}\n","import * as THREE from 'three'\n\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js'\nimport isProd from 'libs/utils/isProd'\n\n\nconst hdrLoader = async (file, debug) =>\n  new Promise((res, rej) =>\n    new RGBELoader()\n      .load(file,\n        texture => {\n          texture.mapping = THREE.EquirectangularReflectionMapping\n\n          res(texture)\n        },\n        progress => {\n          const url = progress.srcElement.responseURL.split('/')\n          const name = url[url.length - 1].split('.')\n\n          !isProd() && debug &&\n            console.log(`loading ${name[0]}.${name[2]} ${Math.floor(progress.loaded / progress.total * 100)}%`)\n        },\n        error =>\n          rej(error)\n      )\n  )\n\n\nexport default hdrLoader","export default __webpack_public_path__ + \"static/media/delta_2_1k.89c671ae.hdr\";","import * as THREE from 'three'\n\nimport Unit from 'libs/three/Unit'\nimport hdrLoader from 'libs/three/loaders/hdrLoader'\nimport HDRMap from './HDRI/delta_2_1k.hdr'\n\n\nexport default class Fence extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.loadTexture()\n  }\n\n  loadTexture = async () => {\n    this.props.scene.environment = await hdrLoader(HDRMap)\n    // this.props.scene.environment.encoding = THREE.RGBEEncoding\n    // this.props.scene.environment.minFilter = THREE.NearestFilter\n    // this.props.scene.environment.magFilter = THREE.NearestFilter\n    // this.props.scene.environment.flipY = true\n\n    // console.log(this.props.scene.environment)\n    this.props.unitLoaded()\n  }\n\n  animate = props => {}\n  dispose = props => {}\n}","export default () => {\n  try {  \n    document.createEvent(\"TouchEvent\")  \n    return true  \n  } catch (e) {  \n    return false  \n  }  \n}\n","import _ from 'lodash'\n\nimport Unit from 'libs/three/Unit'\nimport clamp from 'clamp'\nimport isTouchDevice from 'libs/utils/isTouchDevice'\nimport isMobile from 'libs/utils/isMobile'\n\n\nconst initialThis = {\n  mouse: {\n    alphaX: 0,\n    alphaY: 0,\n  },\n  scroll: {\n    alphaX: 0,\n    alphaY: 0,\n  },\n}\n\n\nexport default class Controls extends Unit {\n  constructor(props) {\n    super(props)\n\n    Object.keys(initialThis)\n      .forEach(key => this[key] = initialThis[key])\n\n    if (isTouchDevice()) {  \n      ;\n    }\n    else {\n      window.addEventListener('mousemove', this.handleMouseMove, false)\n    }\n\n    // window.addEventListener('scroll', this.handleScrollDebounced, false)\n\n    props.unitLoaded()\n  }\n\n\n  init = () => {}\n\n  animate = props =>\n    this.handleScroll()\n\n  \n  handleMouseMove = e => {\n    if (!e.clientX || !e.clientY) {\n      console.log(\"no mouse found\")\n      return\n    }\n\n    this.mouse.alphaX = -e.clientX / window.innerWidth + .5\n    this.mouse.alphaY = e.clientY / window.innerHeight - .5\n  }\n\n  handleScroll = e => {\n    const h = document.documentElement, \n          b = document.body,\n          st = 'scrollTop',\n          sh = 'scrollHeight'\n\n    const alpha = (h[st]||b[st]) / ((h[sh]||b[sh]) - h.clientHeight)\n\n    this.scroll.alphaY = alpha\n  }\n\n  handleMouseMoveDebounced = _.debounce(this.handleMouseMove, 3)\n  handleScrollDebounced = _.debounce(this.handleScroll, 3)\n\n\n  dispose = () => {\n    // window.removeEventListener('scroll', this.handleScrollDebounced, false)\n\n    if (isTouchDevice())\n      ;\n    else\n      window.removeEventListener('mousemove', this.handleMouseMove, false)\n  }\n}\n","export default __webpack_public_path__ + \"static/media/fence.750892b6.glb\";","import * as THREE from 'three'\nimport Unit from 'libs/three/Unit'\nimport modelLoader from 'libs/three/loaders/modelLoader'\n\nimport file from 'models/fence.glb'\n\n\nclass Fence extends Unit {\n  constructor(props) {\n    super(props)\n\n    this.loadModel()\n  }\n\n  loadModel = async () => {\n    this.gtlf = await modelLoader(file)\n    this.model = this.gtlf.scene\n    this.props.scene.add(this.model)\n\n    this.props.unitLoaded()\n  }\n\n  animate = props => {\n    if (this.model) {\n      if (!this.loaded) {\n        this.loaded = true\n        this.model.scale.set(2.5, 2.5, 2.5)\n        this.model.position.set(0, -160, 15)\n      }\n\n      let alpha = props.frameNumber / props.maxFrameNumber\n\n      this.model.rotation.x = Math.PI + Math.sin(alpha * 5 * Math.PI)\n      this.model.rotation.y = Math.cos(alpha * 15 * Math.PI)\n      this.model.rotation.z = alpha * 15 * Math.PI\n    }\n  }\n  dispose = props => {}\n}\n\n\nexport default Fence","import React from 'react'\n\nimport Frame from 'components/Frame'\n\n\nclass Loader extends React.Component {\n  render = () =>\n    <div className=\"Loader\">\n      <Frame>\n        <div className=\"Loader__container\">\n            <div className=\"Loader__text\">\n              Добро пожаловать на сайт Перфобуфета!\n              <br /><br />\n              Мы делаем кучу крутых штук. Для того чтобы рассказать о них, мы почти год разрабатывали этот сайт. Он очень сложный, поэтому загрузка занимает несколько секунд.<br />\n              Хорошие Новости: когда вы дочитаете этот текст, кнопка «Начать !» скорее всего будет активна!\n            </div>\n            <button\n              className=\"Loader__button\"\n              onClick={() => this.props.start()}\n              disabled={!this.props.loaded}\n            >\n              Начать !\n            </button>\n        </div>\n      </Frame>\n    </div>\n}\n\n\nexport default Loader\n","export default __webpack_public_path__ + \"static/media/MBMK.64dd6a31.mp3\";","import React from 'react'\n\nimport ThreeScene from 'components/ThreeScene'\n\nimport Lego from 'libs/three/units/random/Lego'\nimport Heads from 'libs/three/units/Heads'\nimport Lights from 'libs/three/units/Lights'\nimport Environment from 'libs/three/units/Environment'\nimport Controls from 'libs/three/units/Controls'\nimport Fence from 'libs/three/units/Fence'\nimport Music from 'libs/three/units/Music'\nimport PERFOBUFET from 'audio/MBMK.mp3'\n\n\nclass MainScene extends React.Component {\n  state = {}\n\n  render = () =>\n    <ThreeScene\n      id=\"sceneClosed\"\n      ref={this.props.sceneRef}\n      react={this.props.react}\n      setLoaded={this.props.setLoaded}\n      units={{\n        env: {\n          unit: Environment,\n          disabled: false,\n        },\n        lego: {\n          unit: Lego,\n          disabled: false,\n        },\n        heads: {\n          unit: Heads,\n          disabled: false,\n        },\n        lights: {\n          unit: Lights,\n          disabled: false,\n        },\n        controls: {\n          unit: Controls,\n          disabled: false,\n        },\n        fence: {\n          unit: Fence,\n          disabled: false,\n        },\n        // music: {\n        //   unit: Music,\n        //   disabled: false,\n        //   args: {\n        //     file: PERFOBUFET\n        //   },\n        // },\n      }}\n    />\n}\n\nexport default MainScene\n","import React from 'react'\nimport Div100vh from 'react-div-100vh'\n\nimport { Provider } from 'components/Store'\nimport Helmet from 'components/Helmet'\nimport Frame from 'components/Frame'\nimport ExternalLink from 'components/ExternalLink'\nimport MainScene from 'sections/MainScene'\nimport Loader from 'components/Loader'\n\nimport Header from 'components/Header'\n\nimport Heads from 'sections/Heads'\nimport About from 'sections/About'\nimport Closed from 'sections/Closed'\n\nimport 'styles/index.sass'\n\n\nclass App extends React.Component {\n  state = {\n    index: Math.floor(Math.random() * 4.9),\n    loaded: false,\n    started: false,\n  }\n\n  sceneRef = React.createRef()\n\n  setIndex = _index => {\n    this.setState({ index: _index })\n    this.sceneRef?.current?.scene?.scene?.units?.heads?.setIndex?.( _index )\n  }\n\n  start = () => {\n    this.sceneRef?.current?.scene?.start?.()\n    this.setState({ started: true })\n  }\n\n  render = () =>\n  <Provider>\n    <Div100vh>\n      <Helmet />\n      {/* <MainScene\n        sceneRef={this.sceneRef}\n        react={{\n          index: this.state.index\n        }}\n        setLoaded={() => this.setState({ loaded: true })}\n      /> */}\n      <div className=\"App\">\n        \n      </div>\n      {!this.state.started &&\n        <Loader\n          loaded={this.state.loaded}\n          start={() => this.start()}\n        />}\n\n    </Div100vh>\n  </Provider>\n}\n\nexport default App\n","import React from 'react'\n\n\nclass Header extends React.Component {\n\n\n  render = () =>\n    <div className=\"header\">\n      \n    </div>\n}\n\nexport default Header\n","import React from 'react'\n\nimport Frame from 'components/Frame'\nimport ThreeScene from 'components/ThreeScene'\nimport ExternalLink from 'components/ExternalLink'\n\nimport Head from 'libs/three/units/Head'\nimport Lights from 'libs/three/units/Lights'\nimport Controls from 'libs/three/units/Controls'\n\n\nclass Heads extends React.Component {\n  state = {\n    currentHead: Math.floor(Math.random() * 4.9),\n  }\n\n  sceneRef = React.createRef()\n\n  setIndex = _index => {\n    this.setState({ index: _index })\n    this.sceneRef?.current?.scene?.scene?.units?.heads?.setIndex?.( _index )\n  }\n  start = () => {\n    this.sceneRef?.current?.scene?.start?.()\n    this.setState({ started: true })\n  }\n  toggleHeads = () =>\n    this.sceneRef?.current?.scene?.scene?.units?.heads?.toggleHeads?.()\n\n  renderDesc = person =>\n    <div className=\"desc\">\n      <div className=\"desc__card\">\n        <div className=\"desc__card__title\">\n          <h1\n            className=\"desc__card__title__h1\"\n            onClick={() => this.sceneRef?.current?.scene?.scene?.units?.heads?.toggleHeads?.()}\n          >\n              {person.name}\n          </h1>\n          <div className=\"desc__card__title__links\">\n            {person.tg &&\n              <ExternalLink newTab to={person.tg}>\n                <div className=\"desc__card__title__links__item desc__card__title__links__item--tg\" />\n              </ExternalLink>\n            }\n            {person.inst &&\n                <ExternalLink newTab to={person.inst}>\n                <div className=\"desc__card__title__links__item desc__card__title__links__item--inst\" />\n              </ExternalLink>\n            }\n            {person.vk &&\n                <ExternalLink newTab to={person.vk}>\n                <div className=\"desc__card__title__links__item desc__card__title__links__item--vk\" />\n              </ExternalLink>\n            }\n            {person.fb &&\n                <ExternalLink newTab to={person.fb}>\n                <div className=\"desc__card__title__links__item desc__card__title__links__item--fb\" />\n              </ExternalLink>\n            }\n          </div>\n        </div>\n        <div className=\"desc__text\">\n          {person.text}\n        </div>\n      </div>\n\n      <div\n        onClick={() => this.setIndex( (this.state.index + 1) % 5 )}\n        className=\"desc__arrow desc__arrow--left\"\n      />\n      <div\n        onClick={() => this.setIndex( (this.state.index + 4) % 5 )}\n        className=\"desc__arrow desc__arrow--right\"\n      />\n    </div>\n\n  render = () =>\n    <Frame clouds className=\"frame--last\" bottom='лид груп'>\n      <ThreeScene\n        sceneRef={this.sceneRef}\n        react={{\n          index: this.state.index\n        }}\n        setLoaded={() => this.setState({ loaded: true })}\n      />\n    </Frame>\n}\n\nexport default Heads\n","import React from 'react'\n\nimport Frame from 'components/Frame'\n\n\nclass About extends React.Component {\n\n  state = {}\n\n  render = () =>\n    <Frame bottom='О нас'>\n      <div className=\"row justify-content-center\">\n        <div className=\"\">\n          Наша театральная компания ориентирована\u0003на творчество в максимально широком смысле: кроме перформансов и спектаклей, мы делаем прогулки и вечеринки, лаборатории и акции, лекции и челленджи. Используя процесс создания искусства, мы пытаемся понять, как это искусство создавать, поэтому «Перфобуфет» — это эксперимент над самими собой и той культурой, которая складывается вокруг него.\n          <br /><br />\n          Все участники нашей компании воспринимают себя как независимых арт-практиков, тогда как «Перфобуфет» — зонтичное понятие для всего спектра того, что мы делаем вместе, а также тех, кто это делает с нами.\n          <br /><br />\n          Мы ценим горизонтальные отношения, внутри которых открыты и к вертикалям, исходя из задач проектов, а также интересов  \n        </div>\n        <div className=\"col-12 col-md-4 pt-4 px-4\">\n          и возможностей каждого к обучению и сотрудничеству. У нас есть даже формула на этот счет: ресурс = производство. При этом, мы стремимся к эмансипации “Перфобуфета” от нас самих, потому что считаем настоящим проектом тот, что производит себя и стимулирует среду вокруг, не замыкаясь на участниках группы.\n          <br /><br />\n          Для нас каждый проект — это важный проект, который достоин того, чтобы быть точно описанным, поэтому выработка языка для разговора о театре является еще одной частью «Перфобуфета». В каждом проекте мы экспериментируем с языком, пытаясь обозначить сделанное. По сути, это метатеатральный процесс: производство речи о театре и самих себе в нем наравне с производством театра.\n          <br /><br />\n          «Перфобуфет» — это модель нашей коллективной мечты о том, как работает театральная компания сегодня. \n        </div>\n      </div>\n    </Frame>\n}\n\n\nexport default About\n","import React from 'react'\n\nimport ExternalLink from 'components/ExternalLink'\n\n\nexport default class Social extends React.Component {\n  state = {}\n\n  render = () =>\n    <div className=\"social\">\n      {[\n        {\n          url: \"https://instagram.com/perfobufet\",\n          className: \"social__link--inst\",\n        },\n        {\n          url: \"https://vk.com/perfobufet\",\n          className: \"social__link--vk\",\n        },\n      ].map(link =>\n        <ExternalLink\n          newTab\n          to={link.url}\n          className={`social__link ${link.className}`}\n        />\n      )}\n    </div>\n}\n","import React from 'react'\n\nimport Frame from 'components/Frame'\nimport ThreeScene from 'components/ThreeScene'\nimport Social from 'components/Social'\n\nimport Lego from 'libs/three/units/random/Lego'\nimport Lights from 'libs/three/units/Lights'\nimport Environment from 'libs/three/units/Environment'\n\n\nclass Heads extends React.Component {\n  state = {}\n\n  render = () =>\n    <div\n      id=\"closed\"\n      className=\"closed\"\n    >\n      <Frame>\n        <ThreeScene\n          id=\"sceneClosed\"\n          units={{\n            env: {\n              unit: Environment,\n              disabled: false,\n            },\n            // head: {\n            //   unit: Lego,\n            //   // args: {file: fence},\n            //   disabled: false,\n            // },\n            // lights: {\n            //   unit: Lights,\n            //   disabled: false,\n            // },\n          }}\n        />\n      </Frame>\n    </div>\n}\n\nexport default Heads\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}